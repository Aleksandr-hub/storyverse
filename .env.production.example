# StoryVerse Production Environment Configuration
# Copy this file to .env and fill in the values
# IMPORTANT: Never commit .env file to git!

# =============================================================================
# APPLICATION
# =============================================================================
APP_NAME=StoryVerse
APP_ENV=production
APP_KEY=                                    # Generate with: php artisan key:generate
APP_DEBUG=false
APP_URL=https://your-domain.com             # Your production domain
FRONTEND_URL=https://your-domain.com        # Same as APP_URL in production

APP_LOCALE=uk
APP_FALLBACK_LOCALE=en

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
DB_CONNECTION=pgsql
DB_HOST=postgres                            # Docker service name
DB_PORT=5432
DB_DATABASE=storyverse
DB_USERNAME=storyverse
DB_PASSWORD=                                # REQUIRED: Strong password

# =============================================================================
# CACHE & SESSION (Redis)
# =============================================================================
REDIS_HOST=redis
REDIS_PASSWORD=                             # REQUIRED: Strong password
REDIS_PORT=6379

SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_SECURE_COOKIE=true                  # HTTPS only

CACHE_STORE=redis
BROADCAST_CONNECTION=redis

# =============================================================================
# QUEUE (Redis or RabbitMQ)
# =============================================================================
QUEUE_CONNECTION=redis                      # Use 'rabbitmq' if you need advanced features

# RabbitMQ (optional - enable in docker-compose.prod.yml with --profile queues)
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=storyverse
RABBITMQ_PASSWORD=                          # Strong password if using RabbitMQ
RABBITMQ_VHOST=/

# =============================================================================
# AI SERVICES
# =============================================================================
# At least one AI provider is required for story assistance

# Provider priority (first available with API key will be used)
AI_PROVIDER_PRIORITY=gemini,claude,openai

# Google Gemini (Recommended - has free tier)
# Get key: https://aistudio.google.com/apikey
GEMINI_API_KEY=
GEMINI_MODEL=gemini-1.5-flash

# Anthropic Claude
# Get key: https://console.anthropic.com/
CLAUDE_API_KEY=
CLAUDE_MODEL=claude-sonnet-4-20250514

# OpenAI
# Get key: https://platform.openai.com/api-keys
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o

# =============================================================================
# OAUTH (Optional - for social login)
# =============================================================================
# Google OAuth
# Setup: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=${APP_URL}/api/auth/oauth/google/callback

# Facebook OAuth (optional)
FACEBOOK_CLIENT_ID=
FACEBOOK_CLIENT_SECRET=
FACEBOOK_REDIRECT_URI=${APP_URL}/api/auth/oauth/facebook/callback

# =============================================================================
# SANCTUM (API Authentication)
# =============================================================================
SANCTUM_STATEFUL_DOMAINS=your-domain.com    # Your production domain (no protocol)

# =============================================================================
# MAIL
# =============================================================================
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailgun.org                  # Or your SMTP provider
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@your-domain.com"
MAIL_FROM_NAME="${APP_NAME}"

# =============================================================================
# FILE STORAGE (Optional - for media files)
# =============================================================================
FILESYSTEM_DISK=local                       # Use 's3' for cloud storage

# AWS S3 (if using cloud storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=eu-central-1
AWS_BUCKET=storyverse-media
AWS_USE_PATH_STYLE_ENDPOINT=false

# =============================================================================
# LOGGING
# =============================================================================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_LEVEL=error                             # Use 'debug' only for troubleshooting

# =============================================================================
# SECURITY
# =============================================================================
BCRYPT_ROUNDS=12
